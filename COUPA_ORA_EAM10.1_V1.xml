<?xml version="1.0" encoding="UTF-8"?>
<!-- Adapter Name 			: COUPA_EAM10.1_V1.xml                                           -->
<!-- Adapter Release Date	:                            -->
<!-- Adapter Description 	: EAM Adapter for COUPA Application                      -->
<!-- Author					: Harshad Pawar                                       -->
<!-- Copyright				: Â©Greenlight Technologies Inc. All Rights Reserved                                    -->

<adapter_batch>
	<adapter_document>
		<header>
			<adapter_name>COUPA_EAM10.1</adapter_name>
			<adapter_desc>COUPA EAM ADAPTER 10.1 V1</adapter_desc>
			<is_shared>N</is_shared>
			<adapter_type>STANDARD</adapter_type>
			<created_by>Admin</created_by>
			<active_status>Y</active_status>
			<locked_status>N</locked_status>
		</header>
		<content>
		<!--  Get erp datetime program details for SOD -->
			<GL_API apiName="GETERPDATETIME_R10FORSOD" description="API to get ERP Date and Time">
				<program programName="COUPA_GETERPDATETIME" description="Program to get ERP Date and time" programType="COUPAAPIGEE" connType="COUPAAPIGEE" activeStatus="Y" lockStatus="N" progGroup="SINGLE" progStatus="RELEASED">
					<detail>
						<code>getERPDateTime</code>
						<instruction>none</instruction>
					</detail>
					<!--  Input Parameters  -->
					<!--  Output Columns  -->
					<programField fieldName="ERP_DATE_TIME" alias="ERP_DATE_TIME" seqNum="1" description="ERP DATE TIME" datatype="STRING" length="50"/>
				</program>
				<!--  Input Parameters mappings  -->
				<!--  Output Columsn mappings  -->
				<fieldMap apiField="datetime" fieldGroup="GETERPDATETIME_R10FORSOD" programField="ERP_DATE_TIME"/>
			</GL_API>
			
			<!--  Get user activity program details for SOD -->
			<GL_API apiName="GETUSERACTIVITY_R10FORSOD" description="API to get User Activity">
				<program programName="COUPA_GETUSERACTIVITY" description="Program to get user activity data." programType="COUPAAPIGEE" connType="COUPAAPIGEE" activeStatus="Y" lockStatus="N" progGroup="SINGLE" progStatus="RELEASED" sortByField="N" isCustomIdBased="Y" oprIdRequired="TEMPLATE" auditSystemType="COUPAAPIGEE">
					<detail>
						<code>coupaUserActivity</code>
						<instruction>none</instruction>
					</detail>
					<!--  Input Parameters  -->
					<parameter parameterName="In_User_From" description="From User ID" datatype="STRING" default="A" categorty="IN" operator="&gt;="/>
					<parameter parameterName="In_User_To" description="To User ID" datatype="STRING" default="Z" categorty="IN" operator="&lt;="/>
					<parameter parameterName="In_Resp_From" description="From Responsibility Name" datatype="STRING" default="A" categorty="IN" operator="&gt;="/>
					<parameter parameterName="In_Resp_To" description="To Responsibility Name" datatype="STRING" default="Z" categorty="IN" operator="&lt;="/>
					<parameter parameterName="In_Date_From" description="From Date" datatype="Datetime" default="" categorty="IN" operator="&gt;="/>
					<parameter parameterName="In_Date_To" description="To Date" datatype="Datetime" default="" categorty="IN" operator="&lt;="/>

					<!-- Start:: file_status  -->
					<parameter parameterName="#Contains:#Type::#File Name::#Created By::#Created Date::#Last Updated Date::#Status::#Progress And Errors" description="Log Id" datatype="String" default="" categorty="IN" format="file_status" seqNum="1" columnName="SETLOGID" lowparam="0::$FIRSTNAME $LASTNAME" filterBy="fullname"/>
					<parameter parameterName="Contains" description="Contains" datatype="String" default="" categorty="IN" format="file_status" seqNum="2" columnName="USER_DEF_02" />
					<parameter parameterName="Type" description="Type" datatype="String" default="" categorty="IN" format="file_status" seqNum="3" columnName="" />
					<parameter parameterName="File Name" description="File Name" datatype="String" default="" categorty="IN" format="file_status" seqNum="4" columnName="" />
					<parameter parameterName="Created By" description="Created By" datatype="String" default="" categorty="IN" format="file_status" seqNum="5" columnName="SETUSERNAME" />
					<parameter parameterName="Created Date" description="Created Date" datatype="DATETIME" default="" categorty="IN" format="file_status" seqNum="6" columnName="SETLOGDATE" tableName="MM/dd/yy h:mm a"/>
					<parameter parameterName="Created Date" description="Created Date" datatype="DATETIME" default="" categorty="IN" format="file_status" seqNum="7" columnName="SETLOGTIME" tableName="MM/dd/yy h:mm a"/>
					<parameter parameterName="Last Updated Date" description="Last Updated Date" datatype="String" default="" categorty="IN" format="file_status" seqNum="8" columnName="" />
					<parameter parameterName="Status" description="Status" datatype="String" default="" categorty="IN" format="file_status" seqNum="9" columnName="" length=""/>
					<parameter parameterName="Progress And Errors" description="Progress And Errors" datatype="String" default="" categorty="IN" format="file_status" seqNum="10" columnName="" length=""/>
					<parameter parameterName="Audit Type" description="AUDIT TYPE" datatype="STRING" categorty="IN" default="file_status" format="file_status" seqNum="11" columnName="USER_DEF_01" />
					<!-- End:: file_status -->
					
					<!-- Start:: revision_records  -->
					<parameter parameterName="#Document ID::#Document::#Document Type::#Admin user::#Acting as user::#Created Date" description="Log Id" datatype="String" default="" categorty="IN" format="revision_records" seqNum="12" columnName="SETLOGID" lowparam="0::$FIRSTNAME $LASTNAME" filterBy="fullname"/>
					<parameter parameterName="Document ID" description="Document ID" datatype="String" default="" categorty="IN" format="revision_records" seqNum="13" columnName="USER_DEF_03" length=""/>
					<parameter parameterName="Document" description="Document" datatype="String" default="" categorty="IN" format="revision_records" seqNum="14" columnName="" length=""/>
					<parameter parameterName="Document Type" description="Document Type" datatype="String" default="" categorty="IN" format="revision_records" seqNum="15" columnName="USER_DEF_02" length=""/>
					<parameter parameterName="Admin user" description="Admin user" datatype="String" default="" categorty="IN" format="revision_records" seqNum="16" columnName="SETUSERNAME" />
					<parameter parameterName="Acting as user" description="Acting As User" datatype="String" default="" categorty="IN" format="revision_records" seqNum="17" columnName="SETUSERNAME" />
					<parameter parameterName="Created Date" description="Created Date" datatype="DATETIME" default="" categorty="IN" format="revision_records" seqNum="18" columnName="SETLOGDATE" tableName="MM/dd/yy"/>
					<parameter parameterName="Created Date" description="Created Date" datatype="DATETIME" default="" categorty="IN" format="revision_records" seqNum="19" columnName="SETLOGTIME" tableName="MM/dd/yy"/>
					<parameter parameterName="History" description="History" datatype="String" default="" categorty="IN" format="revision_records" seqNum="20" columnName="" length=""/>
					<parameter parameterName="Audit Type" description="AUDIT TYPE" datatype="STRING" categorty="IN" default="revision_records" format="revision_records"  seqNum="21" columnName="USER_DEF_01" />
					
					<!--New entries for ResQ enhancement -->
					<parameter parameterName="Acting as user" description="Acting As User" datatype="String" default="" categorty="IN" format="revision_records" seqNum="22" columnName="USER_DEF_04" />					
					<!--New entry for ResQ enhancement -->
									
					<!-- End:: revision_records  -->

					<!-- Start:: res_q_tax_code_list  -->
					<parameter parameterName="#Code::#Created Date::#Created By::#Last Updated By::#Last Updated Date" description="Log Id" datatype="String" default="" categorty="IN" format="res_q_tax_code_list" seqNum="1" columnName="SETLOGID" lowparam="0::$FIRSTNAME $LASTNAME" filterBy="fullname"/>
					<parameter parameterName="Code" description="Code" datatype="String" default="" categorty="IN" format="res_q_tax_code_list" seqNum="2" columnName="" />
					<parameter parameterName="Created By" description="Created By" datatype="String" default="" categorty="IN" format="res_q_tax_code_list" seqNum="3" columnName="SETUSERNAME" />
					<parameter parameterName="Created Date" description="Created Date" datatype="DATETIME" default="" categorty="IN" format="res_q_tax_code_list" seqNum="4" columnName="SETLOGDATE" tableName="dd-MM-yyyy"/>
					<parameter parameterName="Created Date" description="Created Date" datatype="DATETIME" default="" categorty="IN" format="res_q_tax_code_list" seqNum="4" columnName="SETLOGTIME" tableName="dd-MM-yyyy"/>
					<parameter parameterName="Last Updated By" description="Last Updated By" datatype="String" default="" categorty="IN" format="res_q_tax_code_list" seqNum="5" columnName="" />
					<parameter parameterName="Last Updated Date" description="Last Updated Date" datatype="DATETIME" default="" categorty="IN" format="res_q_tax_code_list" seqNum="6" columnName="" />
					<parameter parameterName="Audit Type" description="AUDIT TYPE" datatype="STRING" categorty="IN" default="res_q_tax_code_list" format="res_q_tax_code_list"  seqNum="7" columnName="USER_DEF_01" />
					<parameter parameterName="Object" description="Object" datatype="STRING" categorty="IN" default="res_q_tax_code_list" format="res_q_tax_code_list"  seqNum="8" columnName="USER_DEF_02" />
					<!-- End:: res_q_tax_code_list  -->
					
					<!-- Start:: res_q_address_list  -->
					<parameter parameterName="#Name::#Created Date::#Created By::#Last Updated By::#Last Updated Date" description="Log Id" datatype="String" default="" categorty="IN" format="res_q_address_list" seqNum="1" columnName="SETLOGID" lowparam="0::$FIRSTNAME $LASTNAME" filterBy="fullname"/>
					<parameter parameterName="Name" description="Name" datatype="String" default="" categorty="IN" format="res_q_address_list" seqNum="2" columnName="" />
					<parameter parameterName="Created By" description="Created By" datatype="String" default="" categorty="IN" format="res_q_address_list" seqNum="3" columnName="SETUSERNAME" />
					<parameter parameterName="Created Date" description="Created Date" datatype="DATETIME" default="" categorty="IN" format="res_q_address_list" seqNum="4" columnName="SETLOGDATE" tableName="MM/dd/yy"/>
					<parameter parameterName="Created Date" description="Created Date" datatype="DATETIME" default="" categorty="IN" format="res_q_address_list" seqNum="4" columnName="SETLOGTIME" tableName="MM/dd/yy"/>
					<parameter parameterName="Last Updated By" description="Last Updated By" datatype="String" default="" categorty="IN" format="res_q_address_list" seqNum="5" columnName="" />
					<parameter parameterName="Last Updated Date" description="Last Updated Date" datatype="DATETIME" default="" categorty="IN" format="res_q_address_list" seqNum="6" columnName="" />
					<parameter parameterName="Audit Type" description="AUDIT TYPE" datatype="STRING" categorty="IN" default="res_q_address_list" format="res_q_address_list"  seqNum="7" columnName="USER_DEF_01" />
					<parameter parameterName="Object" description="Object" datatype="STRING" categorty="IN" default="res_q_address_list" format="res_q_address_list"  seqNum="8" columnName="USER_DEF_02" />
					<!-- End:: res_q_address_list  -->
					
					<!--  Output Columns  -->
					<programField fieldName="USER_DEF_01" alias="1" seqNum="1" description="Audit Area" datatype="STRING" length="100" isFilter="true" dependentFilter="USER_DEF_02"/>
					<programField fieldName="USER_DEF_02" alias="1" seqNum="2" description="Document Type/Contains/Object" datatype="STRING" length="100" isFilter="true" />
					<programField fieldName="USER_DEF_03" alias="1" seqNum="3" description="Document Id" datatype="STRING" length="100" isFilter="false"/>
					<programField fieldName="USER_DEF_04" alias="1" seqNum="4" description="Acting As User" datatype="STRING" length="100" isFilter="false"/>
				</program>
				<!--  Input Parameters mappings  -->
				<parameterMap apiParam="fromUserId" paramGroup="GETUSERACTIVITY_R10FORSOD" programParam="In_User_From"/>
				<parameterMap apiParam="toUserId" paramGroup="GETUSERACTIVITY_R10FORSOD" programParam="In_User_To"/>
				<parameterMap apiParam="fromRole" paramGroup="GETUSERACTIVITY_R10FORSOD" programParam="In_Resp_From"/>
				<parameterMap apiParam="toRole" paramGroup="GETUSERACTIVITY_R10FORSOD" programParam="In_Resp_To"/>
				<parameterMap apiParam="fromDate" paramGroup="GETUSERACTIVITY_R10FORSOD" programParam="In_Date_From"/>
				<parameterMap apiParam="toDate" paramGroup="GETUSERACTIVITY_R10FORSOD" programParam="In_Date_To"/>
				<!--  Output Columns mappings  -->
			</GL_API>
			
			<!--  Review User Activity Reminder program details for SOD -->
			<GL_API apiName="USRACTVTY_REVREM_R10FORSOD" description="API to Escalate Access Request">
				<program programName="COUPA_USERACTIVITY_REVIEW_REMINDER" description="Program to Remind User Activity Review" programType="COUPAAPIGEE" connType="COUPAAPIGEE" activeStatus="Y" lockStatus="N" progGroup="SINGLE" progStatus="RELEASED" sortByField="Y">
					<detail>
						<code>reviewUserActivityReminder</code>
						<instruction>none</instruction>
					</detail>
					<!--  Input Parameters  -->
					<parameter parameterName="threshold" description="Time Threshold To Send Review Reminder After Activity fetched" datatype="INTEGER" default="" categorty="IN" operator="&gt;="/>
					<!--  Output Columns  -->
					<programField fieldName="RESULT" alias="1" seqNum="1" description="RESULT" datatype="STRING" length="100"/>
				</program>
				<!--  Input Parameters mappings  -->
				<parameterMap apiParam="threshold" paramGroup="USRACTVTY_REVREM_R10FORSOD" programParam="threshold"/>
				<!--  Output Columsn mappings  -->
			</GL_API>
			
			<!--  Escalate User Activity Review program details for SOD -->
			<GL_API apiName="USRACTVTY_ESCALATE_R10FORSOD" description="API to Escalate Access Request">
				<program programName="COUPA_USERACTIVITY_ESCALATE_EMAIL" description="Program to Escalate User Activity Review" programType="COUPAAPIGEE" connType="COUPAAPIGEE" activeStatus="Y" lockStatus="N" progGroup="SINGLE" progStatus="RELEASED" sortByField="Y">
					<detail>
						<code>reviewUserActivityReminder</code>
						<instruction>none</instruction>
					</detail>
					<!--  Input Parameters  -->
					<parameter parameterName="threshold" description="Time Threshold To Send Escalate Mail After Activity fetched but not reviewed" datatype="INTEGER" default="" categorty="IN" operator="&gt;="/>
					<parameter parameterName="to" description="Recepient(s)" datatype="STRING" default="" categorty="IN" operator="="/>
					<parameter parameterName="message" description="Message" datatype="STRING" default="" categorty="IN" operator="="/>
					<!--  Output Columns  -->
					<programField fieldName="RESULT" alias="1" seqNum="1" description="RESULT" datatype="STRING" length="100"/>
				</program>
				<!--  Input Parameters mappings  -->
				<parameterMap apiParam="threshold" paramGroup="USRACTVTY_ESCALATE_R10FORSOD" programParam="threshold"/>
				<parameterMap apiParam="to" paramGroup="USRACTVTY_ESCALATE_R10FORSOD" programParam="to"/>
				<parameterMap apiParam="message" paramGroup="USRACTVTY_ESCALATE_R10FORSOD" programParam="message"/>
				<!--  Output Columsn mappings  -->	
			</GL_API>
			
			<!-- Archive User Activity program details for SOD -->
			<GL_API apiName="USRACTVTY_ARCHIVE_R10FORSOD" description="API to Archive Access Request">
				<program programName="COUPA_USERACTIVITY_ARCHIVE" description="Program to Archive User Activity" programType="COUPAAPIGEE" connType="COUPAAPIGEE" activeStatus="Y" lockStatus="N" progGroup="SINGLE"	progStatus="RELEASED" sortByField="Y">
					<detail>
						<code>reviewUserActivityArchive</code>
						<instruction>none</instruction>
					</detail>
					<!-- Input Parameters -->
					<parameter parameterName="noOfDays"	description="Number of days after which user activity record should be archived" datatype="INTEGER" default="" categorty="IN" operator="&gt;=" />
					<!-- Output Columns -->
					<programField fieldName="RESULT" alias="1" seqNum="1" description="RESULT" datatype="STRING" length="100" />
				</program>
				<!-- Input Parameters mappings -->
				<parameterMap apiParam="noOfDays" paramGroup="USRACTVTY_ARCHIVE_R10FORSOD" programParam="noOfDays" />
				<!-- Output Columsn mappings -->
			</GL_API>

			
		</content>
	</adapter_document>
</adapter_batch>